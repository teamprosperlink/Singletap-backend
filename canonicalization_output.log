================================================================================
ðŸ§ª CANONICALIZATION & POLYSEMY TEST SUITE
================================================================================


################################################################################
# Test 1: Phone Synonyms
################################################################################

================================================================================
ðŸ§ª TEST: Test 1: Phone Synonyms
================================================================================
Query: looking for a phone under 30k

âœ… SUCCESS

Intent: product / buy
Domain: ['technology & electronics']

Items:
  â€¢ Type: smartphone
    Max: {
      "cost": [
            {
                  "type": "price",
                  "value": 30000,
                  "unit": "local"
            }
      ]
}

================================================================================
ðŸ§ª TEST: Test 1: Phone Synonyms
================================================================================
Query: need a mobile under 30k

âœ… SUCCESS

Intent: product / buy
Domain: ['technology & electronics']

Items:
  â€¢ Type: smartphone
    Max: {
      "cost": [
            {
                  "type": "price",
                  "value": 30000,
                  "unit": "local"
            }
      ]
}

================================================================================
ðŸ§ª TEST: Test 1: Phone Synonyms
================================================================================
Query: want to buy a cellphone under 30k

âœ… SUCCESS

Intent: product / buy
Domain: ['technology & electronics']

Items:
  â€¢ Type: smartphone
    Max: {
      "cost": [
            {
                  "type": "price",
                  "value": 30000,
                  "unit": "local"
            }
      ]
}

================================================================================
ðŸ§ª TEST: Test 1: Phone Synonyms
================================================================================
Query: searching for a smartphone under 30k

âœ… SUCCESS

Intent: product / buy
Domain: ['technology & electronics']

Items:
  â€¢ Type: smartphone
    Max: {
      "cost": [
            {
                  "type": "price",
                  "value": 30000,
                  "unit": "local"
            }
      ]
}

================================================================================
ðŸ“Š Test 1: Phone Synonyms - SUMMARY
================================================================================
  'looking for a phone under 30k...' â†’ type: 'smartphone'
  'need a mobile under 30k...' â†’ type: 'smartphone'
  'want to buy a cellphone under 30k...' â†’ type: 'smartphone'
  'searching for a smartphone under 30k...' â†’ type: 'smartphone'
  âœ… CONSISTENT: All canonicalized to 'smartphone'


################################################################################
# Test 2: Laptop Synonyms
################################################################################

================================================================================
ðŸ§ª TEST: Test 2: Laptop Synonyms
================================================================================
Query: selling my laptop

âœ… SUCCESS

Intent: product / sell
Domain: ['technology & electronics']

Items:
  â€¢ Type: laptop

================================================================================
ðŸ§ª TEST: Test 2: Laptop Synonyms
================================================================================
Query: selling my notebook

âœ… SUCCESS

Intent: product / sell
Domain: ['technology & electronics']

Items:
  â€¢ Type: laptop

================================================================================
ðŸ§ª TEST: Test 2: Laptop Synonyms
================================================================================
Query: selling my portable computer

âœ… SUCCESS

Intent: product / sell
Domain: ['technology & electronics']

Items:
  â€¢ Type: laptop

================================================================================
ðŸ“Š Test 2: Laptop Synonyms - SUMMARY
================================================================================
  'selling my laptop...' â†’ type: 'laptop'
  'selling my notebook...' â†’ type: 'laptop'
  'selling my portable computer...' â†’ type: 'laptop'
  âœ… CONSISTENT: All canonicalized to 'laptop'


################################################################################
# Test 3: Condition Synonyms
################################################################################

================================================================================
ðŸ§ª TEST: Test 3: Condition Synonyms
================================================================================
Query: used iphone for sale

âœ… SUCCESS

Intent: product / sell
Domain: ['technology & electronics']

Items:
  â€¢ Type: smartphone
    Categorical: {
      "condition": "used",
      "brand": "apple"
}

================================================================================
ðŸ§ª TEST: Test 3: Condition Synonyms
================================================================================
Query: second hand iphone for sale

âœ… SUCCESS

Intent: product / sell
Domain: ['technology & electronics']

Items:
  â€¢ Type: smartphone
    Categorical: {
      "condition": "used",
      "brand": "apple"
}

================================================================================
ðŸ§ª TEST: Test 3: Condition Synonyms
================================================================================
Query: pre-owned iphone for sale

âœ… SUCCESS

Intent: product / sell
Domain: ['technology & electronics']

Items:
  â€¢ Type: smartphone
    Categorical: {
      "condition": "used",
      "brand": "apple"
}

================================================================================
ðŸ§ª TEST: Test 3: Condition Synonyms
================================================================================
Query: 2nd hand iphone for sale

âœ… SUCCESS

Intent: product / sell
Domain: ['technology & electronics']

Items:
  â€¢ Type: smartphone
    Categorical: {
      "condition": "used",
      "brand": "apple"
}

================================================================================
ðŸ“Š Test 3: Condition Synonyms - SUMMARY
================================================================================
  'used iphone for sale...' â†’ type: 'smartphone'
  'second hand iphone for sale...' â†’ type: 'smartphone'
  'pre-owned iphone for sale...' â†’ type: 'smartphone'
  '2nd hand iphone for sale...' â†’ type: 'smartphone'
  âœ… CONSISTENT: All canonicalized to 'smartphone'


################################################################################
# Test 4: 'Language' Polysemy - Programming
################################################################################

================================================================================
ðŸ§ª TEST: Test 4: 'Language' Polysemy - Programming
================================================================================
Query: need a developer who knows Python language

âœ… SUCCESS

Intent: service / seek
Domain: ['education & training']

Items:
  â€¢ Type: developer
    Categorical: {
      "language": "python"
}

================================================================================
ðŸ§ª TEST: Test 4: 'Language' Polysemy - Programming
================================================================================
Query: looking for software engineer with Rust language experience

âœ… SUCCESS

Intent: service / seek
Domain: ['business services & consulting']

Items:
  â€¢ Type: software engineering
    Categorical: {
      "language": "rust"
}

Other Party Preferences:
  {
  "identity": [
    {
      "type": "profession",
      "value": "software engineer"
    }
  ],
  "habits": {},
  "min": {},
  "max": {},
  "range": {}
}

================================================================================
ðŸ“Š Test 4: 'Language' Polysemy - Programming - SUMMARY
================================================================================
  'need a developer who knows Python language...'
    â†’ Items categorical: {'language': 'python'}
  'looking for software engineer with Rust language e...'
    â†’ Items categorical: {'language': 'rust'}
    â†’ Other party identity: [{'type': 'profession', 'value': 'software engineer'}]


################################################################################
# Test 5: 'Language' Polysemy - Speaking
################################################################################

================================================================================
ðŸ§ª TEST: Test 5: 'Language' Polysemy - Speaking
================================================================================
Query: need a plumber who speaks Kannada language

âœ… SUCCESS

Intent: service / seek
Domain: ['construction & trades']

Items:
  â€¢ Type: plumbing

Other Party Preferences:
  {
  "identity": [
    {
      "type": "language",
      "value": "kannada"
    }
  ],
  "habits": {},
  "min": {},
  "max": {},
  "range": {}
}

================================================================================
ðŸ§ª TEST: Test 5: 'Language' Polysemy - Speaking
================================================================================
Query: looking for tutor who speaks Hindi language

âœ… SUCCESS

Intent: service / seek
Domain: ['education & training']

Items:
  â€¢ Type: tutoring

Other Party Preferences:
  {
  "identity": [
    {
      "type": "language",
      "value": "hindi"
    }
  ],
  "habits": {},
  "min": {},
  "max": {},
  "range": {}
}

================================================================================
ðŸ“Š Test 5: 'Language' Polysemy - Speaking - SUMMARY
================================================================================
  'need a plumber who speaks Kannada language...'
    â†’ Other party identity: [{'type': 'language', 'value': 'kannada'}]
  'looking for tutor who speaks Hindi language...'
    â†’ Other party identity: [{'type': 'language', 'value': 'hindi'}]


################################################################################
# Test 6: 'Size' Polysemy
################################################################################

================================================================================
ðŸ§ª TEST: Test 6: 'Size' Polysemy
================================================================================
Query: need a 2BHK flat with 1000 sqft size

âœ… SUCCESS

Intent: product / buy
Domain: ['real estate & property']

Items:
  â€¢ Type: apartment
    Categorical: {
      "layout": "2bhk"
}
    Min: {
      "space": [
            {
                  "type": "area",
                  "value": 1000,
                  "unit": "sqft"
            }
      ]
}

================================================================================
ðŸ§ª TEST: Test 6: 'Size' Polysemy
================================================================================
Query: looking for XL size t-shirt

âœ… SUCCESS

Intent: product / buy
Domain: ['fashion & apparel']

Items:
  â€¢ Type: t-shirt
    Categorical: {
      "size": "xl"
}

================================================================================
ðŸ§ª TEST: Test 6: 'Size' Polysemy
================================================================================
Query: need 256GB size phone

âœ… SUCCESS

Intent: product / buy
Domain: ['technology & electronics']

Items:
  â€¢ Type: smartphone

================================================================================
ðŸ“Š Test 6: 'Size' Polysemy - SUMMARY
================================================================================
  'need a 2BHK flat with 1000 sqft size...'
    â†’ Items categorical: {'layout': '2bhk'}
  'looking for XL size t-shirt...'
    â†’ Items categorical: {'size': 'xl'}
  'need 256GB size phone...'


################################################################################
# Test 7: 'Experience' Polysemy
################################################################################

================================================================================
ðŸ§ª TEST: Test 7: 'Experience' Polysemy
================================================================================
Query: need tutor with 5 years experience

âœ… SUCCESS

Intent: service / seek
Domain: ['education & training']

Items:
  â€¢ Type: tutoring

Other Party Preferences:
  {
  "identity": [],
  "habits": {},
  "min": {
    "time": [
      {
        "type": "experience",
        "value": 60,
        "unit": "month"
      }
    ]
  },
  "max": {},
  "range": {}
}

================================================================================
ðŸ§ª TEST: Test 7: 'Experience' Polysemy
================================================================================
Query: looking for experienced yoga instructor

âœ… SUCCESS

Intent: service / seek
Domain: ['alternative & holistic health']

Items:
  â€¢ Type: yoga
    Categorical: {
      "experience_level": "experienced"
}

Other Party Preferences:
  {
  "identity": [],
  "habits": {},
  "min": {
    "time": [
      {
        "type": "experience",
        "value": 36,
        "unit": "month"
      }
    ]
  },
  "max": {},
  "range": {}
}

================================================================================
ðŸ“Š Test 7: 'Experience' Polysemy - SUMMARY
================================================================================
  'need tutor with 5 years experience...'
  'looking for experienced yoga instructor...'
    â†’ Items categorical: {'experience_level': 'experienced'}


################################################################################
# Test 8: Currency Detection
################################################################################

================================================================================
ðŸ§ª TEST: Test 8: Currency Detection
================================================================================
Query: laptop under 50k

âœ… SUCCESS

Intent: product / buy
Domain: ['technology & electronics']

Items:
  â€¢ Type: laptop
    Max: {
      "cost": [
            {
                  "type": "price",
                  "value": 50000,
                  "unit": "local"
            }
      ]
}

================================================================================
ðŸ§ª TEST: Test 8: Currency Detection
================================================================================
Query: laptop under $500

âœ… SUCCESS

Intent: product / buy
Domain: ['technology & electronics']

Items:
  â€¢ Type: laptop
    Max: {
      "cost": [
            {
                  "type": "price",
                  "value": 500,
                  "unit": "usd"
            }
      ]
}

================================================================================
ðŸ§ª TEST: Test 8: Currency Detection
================================================================================
Query: laptop under â‚¹50000

âœ… SUCCESS

Intent: product / buy
Domain: ['technology & electronics']

Items:
  â€¢ Type: laptop
    Max: {
      "cost": [
            {
                  "type": "price",
                  "value": 50000,
                  "unit": "inr"
            }
      ]
}

================================================================================
ðŸ§ª TEST: Test 8: Currency Detection
================================================================================
Query: laptop under 5 lakh rupees

âœ… SUCCESS

Intent: product / buy
Domain: ['technology & electronics']

Items:
  â€¢ Type: laptop
    Max: {
      "cost": [
            {
                  "type": "price",
                  "value": 500000,
                  "unit": "inr"
            }
      ]
}

================================================================================
ðŸ“Š Test 8: Currency Detection - SUMMARY
================================================================================


################################################################################
# Test 9: Constraint Detection
################################################################################

================================================================================
ðŸ§ª TEST: Test 9: Constraint Detection
================================================================================
Query: laptop with 16GB RAM

âœ… SUCCESS

Intent: product / buy
Domain: ['technology & electronics']

Items:
  â€¢ Type: laptop

================================================================================
ðŸ§ª TEST: Test 9: Constraint Detection
================================================================================
Query: laptop with at least 16GB RAM

âœ… SUCCESS

Intent: product / buy
Domain: ['technology & electronics']

Items:
  â€¢ Type: laptop
    Min: {
      "capacity": [
            {
                  "type": "memory",
                  "value": 16,
                  "unit": "gb"
            }
      ]
}

================================================================================
ðŸ§ª TEST: Test 9: Constraint Detection
================================================================================
Query: laptop under 80k

âœ… SUCCESS

Intent: product / buy
Domain: ['technology & electronics']

Items:
  â€¢ Type: laptop
    Max: {
      "cost": [
            {
                  "type": "price",
                  "value": 80000,
                  "unit": "inr"
            }
      ]
}

================================================================================
ðŸ§ª TEST: Test 9: Constraint Detection
================================================================================
Query: laptop between 50k and 80k

âœ… SUCCESS

Intent: product / buy
Domain: ['technology & electronics']

Items:
  â€¢ Type: laptop

================================================================================
ðŸ§ª TEST: Test 9: Constraint Detection
================================================================================
Query: laptop around 60k

âœ… SUCCESS

Intent: product / buy
Domain: ['technology & electronics']

Items:
  â€¢ Type: laptop

================================================================================
ðŸ“Š Test 9: Constraint Detection - SUMMARY
================================================================================


################################################################################
# Test 10: Implication Rules
################################################################################

================================================================================
ðŸ§ª TEST: Test 10: Implication Rules
================================================================================
Query: single owner car for sale

âœ… SUCCESS

Intent: product / sell
Domain: ['automotive & vehicles']

Items:
  â€¢ Type: car
    Categorical: {
      "condition": "used",
      "ownership": "single"
}

================================================================================
ðŸ§ª TEST: Test 10: Implication Rules
================================================================================
Query: first owner bike

âœ… SUCCESS

Intent: product / buy
Domain: ['automotive & vehicles']

Items:
  â€¢ Type: bike
    Categorical: {
      "condition": "used",
      "ownership": "first"
}

================================================================================
ðŸ§ª TEST: Test 10: Implication Rules
================================================================================
Query: sealed iPhone for sale

âœ… SUCCESS

Intent: product / sell
Domain: ['technology & electronics']

Items:
  â€¢ Type: smartphone
    Categorical: {
      "condition": "new",
      "packaging": "sealed",
      "brand": "apple"
}

================================================================================
ðŸ“Š Test 10: Implication Rules - SUMMARY
================================================================================


================================================================================
ðŸ’¾ Results saved to: canonicalization_test_results.json
================================================================================
