INFO:     Started server process [19380]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
ğŸš€ FastAPI server starting...
ğŸ“ Server should be available on port 8000
âœ… Server startup complete (initialization running in background)
â³ Starting background initialization...
ğŸŒ SUPABASE_URL: SET
ğŸ”‘ OPENAI_API_KEY: SET
ğŸ“ Initializing OpenAI client...
âœ… OpenAI client ready
ğŸ“„ Loading extraction prompt...
âœ… Extraction prompt loaded (81394 chars)
ğŸ”„ Initializing ingestion clients (in background)...
âœ“ Connected to Supabase: https://qhrwkqrtlhgvtupwnpyx.supabase.co
âœ“ Connected to Qdrant Cloud: https://bc692c7b-72e0-4947-a251-d14e25783ab3.europe-west3-0.gcp.cloud.qdrant.io
Loading embedding model: all-MiniLM-L6-v2...
INFO:     127.0.0.1:52370 - "GET /health HTTP/1.1" 200 OK
âœ“ Loaded embedding model: all-MiniLM-L6-v2 (384D)
âœ… Ingestion clients initialized
ğŸ”„ Initializing retrieval clients (in background)...
âœ“ Connected to Supabase: https://qhrwkqrtlhgvtupwnpyx.supabase.co
INFO:     127.0.0.1:52374 - "GET /health HTTP/1.1" 200 OK
âœ“ Connected to Qdrant Cloud: https://bc692c7b-72e0-4947-a251-d14e25783ab3.europe-west3-0.gcp.cloud.qdrant.io
Loading embedding model: all-MiniLM-L6-v2...
INFO:     127.0.0.1:52378 - "POST /store-listing HTTP/1.1" 503 Service Unavailable
âœ“ Loaded embedding model: all-MiniLM-L6-v2
âœ… Retrieval clients initialized
âœ… ALL clients initialized successfully
INFO:     127.0.0.1:63643 - "GET /health HTTP/1.1" 200 OK

ğŸ’¾ Store Listing for user: user-seller-1
ğŸ“ Storing in product_listings...
âœ… Stored in Supabase with listing_id: f5fdc005-a539-4cf2-affa-8d3967640ca2
ğŸ”¢ Storing embedding in product_vectors...
âœ… Stored in Qdrant
INFO:     127.0.0.1:63645 - "POST /store-listing HTTP/1.1" 200 OK

ğŸ’¾ Store Listing for user: user-roommate-1
ğŸ“ Storing in mutual_listings...
âœ… Stored in Supabase with listing_id: f568b9a0-3cd8-4c50-9c39-28cf10865c3b
ğŸ”¢ Storing embedding in mutual_vectors...
âœ… Stored in Qdrant
INFO:     127.0.0.1:63650 - "POST /store-listing HTTP/1.1" 200 OK

ğŸ’¾ Store Listing for user: user-seller-2
ğŸ“ Storing in product_listings...
âœ… Stored in Supabase with listing_id: 929a26bb-225f-4492-9aae-4990908f75cc
ğŸ”¢ Storing embedding in product_vectors...
âœ… Stored in Qdrant
INFO:     127.0.0.1:63653 - "POST /store-listing HTTP/1.1" 200 OK

ğŸ’¾ Store Listing for user: user-seller-3
ğŸ“ Storing in product_listings...
âœ… Stored in Supabase with listing_id: 1df0e2e2-f11f-4a02-b792-0dd5a55fdbd3
ğŸ”¢ Storing embedding in product_vectors...
âœ… Stored in Qdrant
INFO:     127.0.0.1:63655 - "POST /store-listing HTTP/1.1" 200 OK

ğŸ’¾ Store Listing for user: user-seller-4
ğŸ“ Storing in product_listings...
âœ… Stored in Supabase with listing_id: 9ddd5e3a-3019-4b57-b678-27c7f13f0465
ğŸ”¢ Storing embedding in product_vectors...
âœ… Stored in Qdrant
INFO:     127.0.0.1:63657 - "POST /store-listing HTTP/1.1" 200 OK

ğŸ’¾ Store Listing for user: user-seller-5
ğŸ“ Storing in product_listings...
âœ… Stored in Supabase with listing_id: c73804a1-de1b-4b08-9a85-b1d1395081ee
ğŸ”¢ Storing embedding in product_vectors...
âœ… Stored in Qdrant
INFO:     127.0.0.1:63659 - "POST /store-listing HTTP/1.1" 200 OK

ğŸ’¾ Store Listing for user: user-service-1
ğŸ“ Storing in service_listings...
âœ… Stored in Supabase with listing_id: ef3081f3-fb8d-483e-8a91-ce25603e5a51
ğŸ”¢ Storing embedding in service_vectors...
âœ… Stored in Qdrant
INFO:     127.0.0.1:63661 - "POST /store-listing HTTP/1.1" 200 OK

ğŸ’¾ Store Listing for user: user-seller-6
ğŸ“ Storing in product_listings...
âœ… Stored in Supabase with listing_id: a77331b0-0f56-48d5-a330-e87a26a0a65a
ğŸ”¢ Storing embedding in product_vectors...
âœ… Stored in Qdrant
INFO:     127.0.0.1:63664 - "POST /store-listing HTTP/1.1" 200 OK

ğŸ’¾ Store Listing for user: user-roommate-2
ğŸ“ Storing in mutual_listings...
âœ… Stored in Supabase with listing_id: 9f742b81-6c51-4889-a00a-27cc0a17b3fc
ğŸ”¢ Storing embedding in mutual_vectors...
âœ… Stored in Qdrant
INFO:     127.0.0.1:63666 - "POST /store-listing HTTP/1.1" 200 OK

ğŸ’¾ Store Listing for user: user-roommate-3
ğŸ“ Storing in mutual_listings...
âœ… Stored in Supabase with listing_id: 7b380ebd-0e70-4f1a-bd91-43aeb1d80838
ğŸ”¢ Storing embedding in mutual_vectors...
âœ… Stored in Qdrant
INFO:     127.0.0.1:63669 - "POST /store-listing HTTP/1.1" 200 OK
INFO:     127.0.0.1:63671 - "POST /search-and-match-direct HTTP/1.1" 200 OK
INFO:     127.0.0.1:63678 - "POST /search-and-match-direct HTTP/1.1" 200 OK
INFO:     127.0.0.1:49161 - "GET / HTTP/1.1" 200 OK
INFO:     127.0.0.1:49161 - "GET /favicon.ico HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:53849 - "GET /docs HTTP/1.1" 200 OK
INFO:     127.0.0.1:53849 - "GET /openapi.json HTTP/1.1" 200 OK
INFO:     127.0.0.1:55007 - "GET /docs HTTP/1.1" 200 OK
INFO:     127.0.0.1:55007 - "GET /openapi.json HTTP/1.1" 200 OK
